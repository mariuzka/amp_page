
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Beispiel 1: Soziale Beeinflussung &#8212; ABM mit Python</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Beispiel 2: Virusausbreitung" href="amp09a_03_bsp2.html" />
    <link rel="prev" title="OOP in Python" href="amp09a_01_einf%C3%BChrung_oop.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ABM mit Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   ABM mit Python
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/amp01_intro.html">
   1.1 Einführung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/amp01a_einf%C3%BChrung.html">
     Was ist ABM?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/amp01a_python_und_anaconda.html">
     Verwendete Software
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/amp01a_einstieg_python.html">
     Einstieg in Python
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/amp01b.html">
   1.2 Warm-up
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/amp01c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/amp02_intro.html">
   2.1 Woraus alles besteht
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/amp02a_listen_agenten_populationen.html">
     Listen, Agenten &amp; Populationen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/amp02a_listenzugriff.html">
     Der Zugriff auf Listen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/amp02a_exkurs_funktionen_methoden.html">
     Exkurs: Funktionen &amp; Methoden
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/amp02a_listenmethoden.html">
     Grundlegende Listen-Methoden
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/amp02a_listenfunktionen.html">
     Nützliche Funktionen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/amp02b.html">
   2.2 Hinterlistige Übungen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/amp02c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/amp03_intro.html">
   3.1 Motoren der Simulation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_was_ist_for-loop.html">
     Was ist ein For-Loop?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_for-loops_in_python.html">
     For-Loops in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_exkurs_range.html">
     Exkurs: Zahlenreihen erstellen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_%C3%BCber_zahlenreihe_loopen.html">
     Loop durch Zahlenreihe
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_variablen_ver%C3%A4ndern.html">
     Variablen verändern im Loop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_exkurs_unver%C3%A4nderbare_objekte.html">
     Exkurs: (un-)veränderbare Objekte
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_listen_ver%C3%A4ndern.html">
     Listen verändern im Loop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_exkurs_modulo.html">
     Exkurs: Modulo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_geschachtelte_for-loops.html">
     Geschachtelte For-Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03a_nutzen_for-loops.html">
     ABM &amp; For-Loops
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/amp03b.html">
   3.2 Gefangen im Loop
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/amp03c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04/amp04_intro.html">
   4.1 Eine Brise Gefühl
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/amp04a_if-statements.html">
     If-Statements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/amp04a_boolsche_ausdr%C3%BCcke.html">
     Boolesche Ausdrücke
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/amp04a_if_else_elif.html">
     If, else, elif
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/amp04a_modul_import.html">
     Exkurs 1: Module importieren
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/amp04a_dicts.html">
     Exkurs 2: das Dictionary
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04/amp04b.html">
   4.2 Das NaSch-Modell
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/amp04c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05/amp05_intro.html">
   5.1 Funktionen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_eigene_funktionen.html">
     Eigene Funktionen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_funktionen_ohne_input.html">
     Funktionen ohne In- und Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_funktionen_mit_input.html">
     Funktionen mit Input
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_funktionen_mit_output.html">
     Funktionen mit Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_standardwerte.html">
     Funktionen mit Standardwerten
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_scoping.html">
     Scopes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05a_docstrings.html">
     Docstrings
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05/amp05b_funktionen.html">
   5.2 Funktionales Training
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/amp05c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06/amp06_intro.html">
   6.1 Diagramme
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/amp06a_01_matplotlib.html">
     Matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/amp06a_02_funktionales_matplotlib.html">
     Funktionales Interface
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/amp06a_03_exkurs_mehrfachzuweisung.html">
     Exkurs: Mehrfachzuweisung
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/amp06a_04_objektorientiertes_matplotlib.html">
     Objektorientiertes Interface
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06/amp06b.html">
   6.2 Modelle sozialer Beeinflussung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/amp06c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07/amp07_intro.html">
   7.1 Diagramme &amp; Animationen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/amp07a_01_exkurs_matrix.html">
     Matrix als Welt der Agenten
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/amp07a_02_imshow.html">
     Matrix grafisch darstellen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/amp07a_03_celluloid.html">
     ABM animieren
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07/amp07b.html">
   7.2 Schellings Segregationsmodell
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08/amp08_intro.html">
   8.1 Experimente &amp; Pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08/amp08a_01_pandas.html">
     Ein kurzer Blick auf Pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08/amp08a_02_simulationsexperiment.html">
     Ein Simulationsexperiment durchführen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08/amp08b.html">
   8.2 Mit Schelling experimentieren
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08/amp08c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="amp09_intro.html">
   9.1 ABM mit OOP
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="amp09a_01_einf%C3%BChrung_oop.html">
     OOP in Python
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Beispiel 1: Soziale Beeinflussung
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="amp09a_03_bsp2.html">
     Beispiel 2: Virusausbreitung
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="amp09b.html">
   9.2 Conway’s Game of Life
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="amp09c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10/amp10_intro.html">
   10. Die Matching-Hypothese
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/amp10c.html">
     Lösungen
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/09/amp09a_02_bsp1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/mariuzka/amp_page"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/mariuzka/amp_page/issues/new?title=Issue%20on%20page%20%2F09/amp09a_02_bsp1.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/mariuzka/amp_page/master?urlpath=tree/09/amp09a_02_bsp1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Beispiel 1: Soziale Beeinflussung</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="beispiel-1-soziale-beeinflussung">
<h1>Beispiel 1: Soziale Beeinflussung<a class="headerlink" href="#beispiel-1-soziale-beeinflussung" title="Permalink to this headline">¶</a></h1>
<p>Eben haben wir uns die Definition von Klassen allgemein angeschaut und eingeübt. Ich möchte nun anhand von zwei Beispielen aufzeigen, wie man ABM in einem objektorientierten Programmierstil umsetzen kann. Dabei spielt der Inhalt der Beispielsimulationen - wie so oft - weniger eine Rolle als die Art und Weise, wie diese umgesetzt werden. Im ersten Beispiel schauen wir uns eine relativ arbiträre und einfache Simulation sozialer Beeinflussung an. Dabei soll v.a. die das Programmieren der Methoden aus der Sicht der Agenten, der Zugriff “auf sich selbst” und “andere” Agenten, demonstriert werden.</p>
<p>In dieser Beispielsimulation, geht es darum, dass sich Agenten nach bestimmten Bedingungen “Freunde” aus der Population aussuchen und ihre Meinung von ihren Freunden beeinflusst wird. Wir schauen dann, ob es einen Unterschied für das Meinungspektrum auf der Makroebene macht, wie Agenten sich ihre Freunde aussuchen. Wie gesagt, der Inhalt ist in diesem ersten Beispiel etwas “random”, es geht aber v.a. darum, schrittweise zu zeigen, wie man bestimmte “Handlungen” und “Interaktionen” als Methoden, bei denen Agenten auf sich selbst und andere zugreifen, implementiert. Wir werden die Agenten-Klasse im Folgenden schrittweise implementieren.</p>
<p>Die Agenten-Klasse verfügt über vier Attribute:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">opinion</span></code>: Eine Meinung repräsentiert als Zahl. Wird bei der Erstellung als Parameter übergeben.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tolerance</span></code>: Repräsentiert, wie weit eine fremde Meinung von der eigenen Meinung entfernt sein darf, um als akzeptabel zu gelten.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">friends</span></code>: Eine Liste, in die später als Freunde klassifizierte Agenten eingespeichert werden.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opinion_history</span></code>: Liste, in die später in jedem Zeitschritt die eigene Meinung abgelegt wird, um nach der Simulation die Meinung des Agenten im Zeitverlauf nachvollziehen zu können. Ist zu Beginn nur mit der initialen Meinung befüllt.</p></li>
</ol>
<p>Die 4 Attribute werden bei der Definition der Klasse innerhalb der Methode <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> festgelegt:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Agent</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opinion</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="mf">0.2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">friends</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion_history</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span>
</pre></div>
</div>
<p>Nun erweitere ich die Klasse <code class="docutils literal notranslate"><span class="pre">Agent</span></code> um eine erste Methode namens <code class="docutils literal notranslate"><span class="pre">get_random_friend()</span></code>. Diese Methode soll den Agenten ermöglichen, sich zufällig “Freunde” aus der Population “auszusuchen” und in ihrer Freundesliste <code class="docutils literal notranslate"><span class="pre">friends</span></code> zu speichern. Die Populationsliste wird “von außen” als Parameter dem Agenten bzw. der Agenten-Methode <code class="docutils literal notranslate"><span class="pre">get_random_friend()</span></code> übergeben.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">get_random_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># Agenten zufällig aus Population ziehen</span>
        <span class="n">friend</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
        
        <span class="c1"># Gezogenen Agenten an eigene Freundesliste anhängen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</pre></div>
</div>
<p>Wichtig ist hier zu verstehen, dass der als Agent ausgesuchte <code class="docutils literal notranslate"><span class="pre">friend</span></code> zwar nun in der eigenen Liste <code class="docutils literal notranslate"><span class="pre">friends</span></code> existiert, er existiert aber zugleich auch weiterhin in der Liste <code class="docutils literal notranslate"><span class="pre">population</span></code>. In beiden Listen befinden sich “Zeiger” auf ein und dasselbe Objekt. Wird eine Änderung an einem Agenten in der eigenen Freundesliste vorgenommen wird, wird diese auch in der Liste <code class="docutils literal notranslate"><span class="pre">population</span></code> wirksam und umgekehrt - weil es sich eben um dasselbe Objekt handelt, das in beiden Listen angesiedelt ist.</p>
<p>Nun erweitern wir die Methode <code class="docutils literal notranslate"><span class="pre">get_random_friend()</span></code> um weitere Funktionalitäten. Da der Agent selbst auch in der Populationsliste <code class="docutils literal notranslate"><span class="pre">population</span></code> existiert, sollte er, bevor er sich mit dem zufällig gezogenen Agenten “anfreundet”, überprüfen, ob er sich da nicht gerade selbst als Freund ausgesucht hat. Bevor der neue Freund also der Freundesliste angehängt wird, wird sichergestellt, dass <code class="docutils literal notranslate"><span class="pre">friend</span></code> nicht gleich <code class="docutils literal notranslate"><span class="pre">self</span></code> d.h. <code class="docutils literal notranslate"><span class="pre">friend</span> <span class="pre">!=</span> <span class="pre">self</span></code> ist:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">get_random_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># Agenten zufällig aus Population ziehen</span>
        <span class="n">friend</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
        
        <span class="c1"># wenn man das nicht selbst ist</span>
        <span class="k">if</span> <span class="n">friend</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span>
            
            <span class="c1"># Gezogenen Agenten an eigene Freundesliste anhängen</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</pre></div>
</div>
<p>Da ein Agent öfter nach neuen Freunden gucken wird, kann es u.U. sein, dass er sich zweimal mit demselben Agenten anfreunden möchte. Auch das wollen wir verhindern. Daher guckt der Agent nun nicht nur danach, dass der neue Freund nicht eigentlich er selbst ist, sondern auch, ob der neue Freund nicht schon in der Friendzone ist. Nur wenn <code class="docutils literal notranslate"><span class="pre">friend</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">self.friends</span></code> ist, wird <code class="docutils literal notranslate"><span class="pre">friend</span></code> auch in die Freundesliste aufgenommen:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">get_random_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># Agenten zufällig aus Population ziehen</span>
        <span class="n">friend</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
        
        <span class="c1"># wenn man das nicht selbst ist</span>
        <span class="k">if</span> <span class="n">friend</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span>
            
            <span class="c1"># Wenn noch nicht in Freundesliste</span>
            <span class="k">if</span> <span class="n">friend</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">:</span>
            
                <span class="c1"># Gezogenen Agenten an eigene Freundesliste anhängen</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</pre></div>
</div>
<p>Wir wollen annehmen, dass Freundschaft auf Gegenseitigkeit beruht. Daher erweitern wir die Methode nun so, dass der handelnde d.h. einen Freund aussuchende Agent nicht nur seinen neuen Freund in die eigene Freundesliste schreibt, sondern auch sich selbst bei seinem neuen Freund in die Freundesliste. Der Agent greift also auf die Freundesliste seines neuen Freundes zu und fügt sich dort mit <code class="docutils literal notranslate"><span class="pre">friend.friends.append(self)</span></code> selbst hinzu:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">get_random_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># Agenten zufällig aus Population ziehen</span>
        <span class="n">friend</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
        
        <span class="c1"># wenn man das nicht selbst ist</span>
        <span class="k">if</span> <span class="n">friend</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span>
            
            <span class="c1"># Wenn noch nicht in Freundesliste</span>
            <span class="k">if</span> <span class="n">friend</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">:</span>
            
                <span class="c1"># Gezogenen Agenten an eigene Freundesliste anhängen</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
                
                <span class="c1"># Sich selbst beim neuen Freund in die Freundesliste einfügen</span>
                <span class="n">friend</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>Auch hier muss beachtet werden, dass die Änderung, die der Agent an seinem Freund vornimmt, indem er sich selbst bei diesem einträgt, dauerhaft und global ist. Jede Agenten-Instanz existiert genau einmal, es können jedoch für jede Agenten-Instanz mehrere Zeiger auf diese Instanz existieren. Verändert ein Agent etwas an einem anderen Agenten, indem er über einen “Zeiger” auf diesen zugreift, dann ist dieser andere Agent eben verändert - egal unter welchem Variablennamen oder über welche Liste gerade auf diesen veränderten Agenten zugegriffen wird.</p>
<p>Der Agent möchte nicht nur mit einem zufällig ausgewählten Agenten befreundet sein, sondern auch mit Agenten, die ihm ähnlich sind. In der nächsten Methode namens <code class="docutils literal notranslate"><span class="pre">get_friends_like_me()</span></code> sucht ein Agent daher nach Freunden, die eine Meinung aufweisen, die sich in einem Toleranzbereich um die eigene Meinung befindet. Dazu durchsucht der Agent diesmal die gesamte Population nach möglichen Freunden. Für jeden Agenten in dieser Population wird evaluiert, ob die Meinung im Toleranzbereich liegt, also maximal den Betrag des Attributs <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> von der eigenen Meinung abweicht.</p>
<p>Natürlich überprüft der Agent auch hier wieder, ob der potentielle neue Freund nicht eigentlich er selbst ist und ob dieser nicht bereits in der eigenen Freundesliste ist. Und schließlich beruht auch hier Freundschaft auf Gegenseitigkeit und er schreibt auch sich selbstverständlich selbst bei seinem neuen Freund in die Freundesliste.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">looking_for_friends_like_me</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># für jeden Agenten in Population</span>
        <span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
            
            <span class="c1"># Wenn man das nicht selbst ist und der Agent auch noch nicht in Freundesliste</span>
            <span class="k">if</span> <span class="n">agent</span> <span class="o">!=</span> <span class="bp">self</span> <span class="ow">and</span> <span class="n">agent</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">:</span>
                
                <span class="c1"># Berechnen, ob die Meinung des potentiellen Freundes im eigenen Toleranzbereich liegt</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">agent</span><span class="o">.</span><span class="n">opinion</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span><span class="p">:</span>
                    
                    <span class="c1"># neuen Freund hinzufügen</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>
                    
                    <span class="c1"># sich selbst bei neuem Freund einschreiben</span>
                    <span class="n">friend</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

</pre></div>
</div>
<p>Die nächste Methode namens <code class="docutils literal notranslate"><span class="pre">change_my_mind()</span></code> bewirkt die Beeinflussung der Meinung des Agenten durch die Meinung eines befreundeten Agenten. Der Agent sucht sich, wenn er mindestens einen Freund in der Freundesliste hat, einen zufälligen Agenten aus der Freundesliste aus, berechnet das arithmetische Mittel aus der eigenen und der Meinung des Freundes und übernimmt schließlich diese Durchschnittsmeinung als neue eigene Meinung:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">change_my_mind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="c1"># Wenn man mindestens einen Freund hat</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            
            <span class="c1"># Einen zufälligen Freund aussuchen</span>
            <span class="n">influencer</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">)</span>
            
            <span class="c1"># neue Meinung berechnen</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">+</span> <span class="n">influencer</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
<p>In einer letzten Methode namens <code class="docutils literal notranslate"><span class="pre">store_opinion()</span></code> heftet der Agent seine aktuelle Meinung <code class="docutils literal notranslate"><span class="pre">opinion</span></code> an seinen persönlichen Meinungspeicher <code class="docutils literal notranslate"><span class="pre">opinion_history</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">store_opinion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>
</pre></div>
</div>
<p>Unten setze ich nun die gesamte Definition der Klasse zusammen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">Agent</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opinion</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="mf">0.1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">friends</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion_history</span> <span class="o">=</span> <span class="p">[]</span>
    
    
    <span class="k">def</span> <span class="nf">get_random_friend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># Agenten zufällig aus Population ziehen</span>
        <span class="n">friend</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
        
        <span class="c1"># wenn man das nicht selbst ist</span>
        <span class="k">if</span> <span class="n">friend</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span>
            
            <span class="c1"># Wenn noch nicht in Freundesliste</span>
            <span class="k">if</span> <span class="n">friend</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">:</span>
            
                <span class="c1"># Gezogenen Agenten an eigene Freundesliste anhängen</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
                
                <span class="c1"># Sich selbst beim neuen Freund in die Freundesliste einfügen</span>
                <span class="n">friend</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
    
    <span class="k">def</span> <span class="nf">get_friends_like_me</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        
        <span class="c1"># für jeden Agenten in Population</span>
        <span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
            
            <span class="c1"># Wenn man das nicht selbst ist und der Agent auch noch nicht in Freundesliste</span>
            <span class="k">if</span> <span class="n">agent</span> <span class="o">!=</span> <span class="bp">self</span> <span class="ow">and</span> <span class="n">agent</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">:</span>
                
                <span class="c1"># Berechnen, ob die Meinung des potentiellen Freundes im eigenen Toleranzbereich liegt</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">agent</span><span class="o">.</span><span class="n">opinion</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span><span class="p">:</span>
                    
                    <span class="c1"># neuen Freund hinzufügen</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>
                    
                    <span class="c1"># sich selbst bei neuem Freund einschreiben</span>
                    <span class="n">agent</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
    
    <span class="k">def</span> <span class="nf">change_my_mind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># Wenn man mindestens einen Freund hat</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>

            <span class="c1"># Einen zufälligen Freund aussuchen</span>
            <span class="n">influencer</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">friends</span><span class="p">)</span>

            <span class="c1"># neue Meinung berechnen</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">+</span> <span class="n">influencer</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    
    
    <span class="k">def</span> <span class="nf">store_opinion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Die Definition der Klassen, so wie wir es oben gerade getan haben, erfolgt typischerweise am Anfang eines Skriptes. Nach der Definition der benötigten Klassen folgt die Initialisierung der Simulation. Unten folgt nun ein typischer Vorgang, um die Simulation zu initialisieren. Innerhalb der Initialisierung wird zunächst eine Population mit Agenten-Instanzen erstellt. Danach efolgt ein weiterer Initialisierungsschritt, in welchem alle Agenten mithilfe der Methode <code class="docutils literal notranslate"><span class="pre">get_friends_like_me()</span></code> nach ihren Freunden suchen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##### INITIALISIERUNG #####</span>

<span class="c1"># leere Populationsliste erstellen</span>
<span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Agenten erstellen &amp; an Population hängen</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
    <span class="n">agent</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
    <span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>

<span class="c1"># Agenten Freunde suchen lassen</span>
<span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
    <span class="n">agent</span><span class="o">.</span><span class="n">get_friends_like_me</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Erst jetzt beginnt der eigentliche Simulationsloop, in welchem in jedem Zeitschritt die gesamte Population nacheinander zum handeln gebracht wird d.h. jeder Agent verändert die eigene Meinung und speichert sie ab.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##### SIMULATIONS-LOOP #####</span>

<span class="c1"># für jeden Zeitschritt</span>
<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
    
    <span class="c1"># für jeden Agenten in Population</span>
    <span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
        
        <span class="c1"># Handeln!</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">change_my_mind</span><span class="p">()</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">store_opinion</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Nachdem die Simulation durchgelaufen ist, können wir die Meinungen aller Agenten im Zeitverlauf plotten. Dazu erstelle ich die benötigten Matplotlib-Objekte und zeichne dann für jeden Agenten dessen Datenreihe <code class="docutils literal notranslate"><span class="pre">opinion_history</span></code> ein:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># Matplotlib-Objekte erstellen und modifizieren</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Zeit&quot;</span><span class="p">,</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Meinung&quot;</span><span class="p">)</span>

<span class="c1"># für jeden Agenten in Population</span>
<span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
    <span class="c1"># Meinungsverlauf auf *ax* zeichnen</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">agent</span><span class="o">.</span><span class="n">opinion_history</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/amp09a_02_bsp1_21_0.png" src="../_images/amp09a_02_bsp1_21_0.png" />
</div>
</div>
<p>Wir sehen, es gibt verschiedene Meinungsstränge, welchse sich tendenziell aufeinander zu bewegen. Das Ergebnis interessiert an dieser Stelle aber nicht wirklich.</p>
<p>Nun variiere ich die Simulationsbedingungen und lasse die Agenten nicht nur nach ähnlichen Freunden suchen, sondern mit der Methode <code class="docutils literal notranslate"><span class="pre">get_random_friend()</span></code> auch einen Zufallsfreund aussuchen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##### INITIALISIERUNG #####</span>

<span class="c1"># leere Populationsliste erstellen</span>
<span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Agenten erstellen &amp; an Population hängen</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
    <span class="n">agent</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
    <span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>

<span class="c1"># Agenten Freunde suchen lassen</span>
<span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
    <span class="n">agent</span><span class="o">.</span><span class="n">get_friends_like_me</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
    <span class="n">agent</span><span class="o">.</span><span class="n">get_random_friend</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
    
    
    
<span class="c1">##### SIMULATIONS-LOOP #####</span>

<span class="c1"># für jeden Zeitschritt</span>
<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
    
    <span class="c1"># für jeden Agenten in Population</span>
    <span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
        
        <span class="c1"># Handeln!</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">change_my_mind</span><span class="p">()</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">store_opinion</span><span class="p">()</span>
    
</pre></div>
</div>
</div>
</div>
<p>Das Ergebnis sehen wir wieder unten. Im Vergleich zur anderen Simulation fällt auf, dass die Angleichung der Meinungen nun wesentlich schneller ging. Besteht also nicht nur eine Vernetzung unter ähnlichen Agenten, sondern gibt es auch Kontakte zwischen sich eigentlich unähnlichen Agenten, führt das zu einer schnelleren Vereinheitlichung der Agenten - zumindest in diesem Modell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Matplotlib-Objekte erstellen und modifizieren</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Zeit&quot;</span><span class="p">,</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Meinung&quot;</span><span class="p">)</span>

<span class="c1"># für jeden Agenten in Population</span>
<span class="k">for</span> <span class="n">agent</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
    <span class="c1"># Meinungsverlauf auf *ax* zeichnen</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">agent</span><span class="o">.</span><span class="n">opinion_history</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/amp09a_02_bsp1_25_0.png" src="../_images/amp09a_02_bsp1_25_0.png" />
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-amp-py"
        },
        kernelOptions: {
            kernelName: "conda-env-amp-py",
            path: "./09"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-amp-py'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="amp09a_01_einf%C3%BChrung_oop.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">OOP in Python</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="amp09a_03_bsp2.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Beispiel 2: Virusausbreitung</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Marius Kaffai<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>